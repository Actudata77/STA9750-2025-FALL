<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.33">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Hyacinthe Sarr">
<meta name="dcterms.date" content="2025-12-18">

<title>Income and 311 Response Times in NYC – STA 9750 Submission Material</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-ea385d0e468b0dd5ea5bf0780b1290d9.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-b3aed8deb8408878d0e4e165d993d59e.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">STA 9750 Submission Material</span>
    </a>
  </div>
        <div class="quarto-navbar-tools tools-end">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#data-acquisition" id="toc-data-acquisition" class="nav-link" data-scroll-target="#data-acquisition">311 Data Acquisition</a></li>
  <li><a href="#income-data-acquisition-acs-2020-5-year-zip-level" id="toc-income-data-acquisition-acs-2020-5-year-zip-level" class="nav-link" data-scroll-target="#income-data-acquisition-acs-2020-5-year-zip-level">Income Data Acquisition (ACS 2020 5-year, ZIP level)</a></li>
  <li><a href="#data-and-methods" id="toc-data-and-methods" class="nav-link" data-scroll-target="#data-and-methods">Data and Methods</a></li>
  <li><a href="#exploratory-analysis" id="toc-exploratory-analysis" class="nav-link" data-scroll-target="#exploratory-analysis">Exploratory Analysis</a></li>
  <li><a href="#statistical-modeling" id="toc-statistical-modeling" class="nav-link" data-scroll-target="#statistical-modeling">Statistical Modeling</a>
  <ul class="collapse">
  <li><a href="#model-1-simple-linear-regression" id="toc-model-1-simple-linear-regression" class="nav-link" data-scroll-target="#model-1-simple-linear-regression">Model 1: Simple Linear Regression</a></li>
  <li><a href="#model-1-simple-linear-regression-1" id="toc-model-1-simple-linear-regression-1" class="nav-link" data-scroll-target="#model-1-simple-linear-regression-1">Model 1: Simple Linear Regression</a>
  <ul class="collapse">
  <li><a href="#key-output" id="toc-key-output" class="nav-link" data-scroll-target="#key-output"><strong>Key Output</strong></a></li>
  <li><a href="#interpretation" id="toc-interpretation" class="nav-link" data-scroll-target="#interpretation"><strong>Interpretation</strong></a></li>
  </ul></li>
  <li><a href="#model-2-multiple-regression-with-borough-controls" id="toc-model-2-multiple-regression-with-borough-controls" class="nav-link" data-scroll-target="#model-2-multiple-regression-with-borough-controls">Model 2: Multiple Regression with Borough Controls</a></li>
  <li><a href="#model-2-multiple-regression-with-borough-controls-1" id="toc-model-2-multiple-regression-with-borough-controls-1" class="nav-link" data-scroll-target="#model-2-multiple-regression-with-borough-controls-1">Model 2: Multiple Regression with Borough Controls</a>
  <ul class="collapse">
  <li><a href="#key-output-1" id="toc-key-output-1" class="nav-link" data-scroll-target="#key-output-1"><strong>Key Output</strong></a></li>
  <li><a href="#interpretation-1" id="toc-interpretation-1" class="nav-link" data-scroll-target="#interpretation-1"><strong>Interpretation</strong></a></li>
  </ul></li>
  <li><a href="#borough-level-visualization" id="toc-borough-level-visualization" class="nav-link" data-scroll-target="#borough-level-visualization">Borough level visualization</a></li>
  </ul></li>
  <li><a href="#overall-interpretation" id="toc-overall-interpretation" class="nav-link" data-scroll-target="#overall-interpretation">Overall Interpretation</a>
  <ul class="collapse">
  <li><a href="#key-findings-summary" id="toc-key-findings-summary" class="nav-link" data-scroll-target="#key-findings-summary">Key Findings Summary</a></li>
  </ul></li>
  <li><a href="#discussion-and-limitations" id="toc-discussion-and-limitations" class="nav-link" data-scroll-target="#discussion-and-limitations">Discussion and Limitations</a></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Income and 311 Response Times in NYC</h1>
<p class="subtitle lead">STA 9750 Final Project – Individual Report</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Hyacinthe Sarr </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">December 18, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/311.png" class="quarto-figure quarto-figure-center figure-img" style="width:100.0%"></p>
</figure>
</div>
<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>New York City’s <strong>311 system</strong> serves as a non-emergency gateway for residents to request services, report infrastructure problems, and lodge quality-of-life complaints. Because the system is used by nearly every demographic group in the city, it provides a powerful lens into how municipal services are delivered — and whether they are delivered equitably. Response time is a particularly important measure of service equity: long delays between when a complaint is created and when it is resolved may signal operational inefficiencies or disparities in service allocation. The question of whether <em>lower-income neighborhoods</em> consistently experience slower responses is therefore both empirically important and equity-oriented.</p>
<p>This report examines whether <strong>median household income</strong> (ZIP-code level) is associated with <strong>average NYC 311 response times</strong> between <em>January and April 2024</em>. The analysis draws on roughly <strong>one million</strong> 311 service requests pulled directly from the NYC Open Data Socrata API. To focus the study on residential service delivery, requests were filtered to include residential and neighborhood-related complaints — such as <em>heat/hot water</em>, <em>water system issues</em>, <em>sanitation concerns</em>, and <em>noise complaints</em> — while excluding business, construction, administrative, and inspection categories. After cleaning and processing timestamps, each complaint’s response time (in hours) was computed and aggregated to the ZIP-code level.</p>
<p>Median household income values were taken from the <strong>ACS 2020 5-year estimates</strong> and merged with aggregated 311 response data. The final dataset contains <strong>264 NYC ZIP codes</strong> with both income and response-time information. Using a combination of correlation analysis, exploratory visualization, and linear regression modeling (with and without borough adjustment), this report evaluates whether there is evidence of an income–response-time relationship during the study period.</p>
<p>The findings consistently show that <strong>neighborhood income does not meaningfully predict 311 response times</strong>:</p>
<ul>
<li>The correlation between income and average response time is very small.<br>
</li>
<li>Regression coefficients are statistically insignificant and substantively minimal.<br>
</li>
<li>Borough differences exist — with several boroughs, including Queens, exhibiting faster response times — but income itself contributes very little explanatory power.</li>
</ul>
<p>Taken together, these results indicate that <strong>income-based inequality is not clearly reflected</strong> in citywide 311 response time patterns across this four-month period.</p>
</section>
<section id="data-acquisition" class="level1">
<h1>311 Data Acquisition</h1>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Packages</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">requireNamespace</span>(<span class="st">"RSocrata"</span>, <span class="at">quietly =</span> <span class="cn">TRUE</span>)) <span class="fu">install.packages</span>(<span class="st">"RSocrata"</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">requireNamespace</span>(<span class="st">"dplyr"</span>, <span class="at">quietly =</span> <span class="cn">TRUE</span>))    <span class="fu">install.packages</span>(<span class="st">"dplyr"</span>)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">requireNamespace</span>(<span class="st">"lubridate"</span>, <span class="at">quietly =</span> <span class="cn">TRUE</span>)) <span class="fu">install.packages</span>(<span class="st">"lubridate"</span>)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">requireNamespace</span>(<span class="st">"purrr"</span>, <span class="at">quietly =</span> <span class="cn">TRUE</span>))    <span class="fu">install.packages</span>(<span class="st">"purrr"</span>)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">requireNamespace</span>(<span class="st">"arrow"</span>, <span class="at">quietly =</span> <span class="cn">TRUE</span>))    <span class="fu">install.packages</span>(<span class="st">"arrow"</span>)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RSocrata)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(purrr)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(arrow)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Sanity check: Socrata token must be set in ~/.Renviron</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="fu">nzchar</span>(<span class="fu">Sys.getenv</span>(<span class="st">"SOCRATA_APP_TOKEN"</span>)))</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Helper to format timestamps for Socrata (ISO8601 with milliseconds)</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>socrata_time <span class="ot">&lt;-</span> <span class="cf">function</span>(x) <span class="fu">format</span>(x, <span class="st">"%Y-%m-%dT%H:%M:%OS3"</span>)</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to pull one month of 311 data with residential filter</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>get_311_month <span class="ot">&lt;-</span> <span class="cf">function</span>(year, month) {</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>  year  <span class="ot">&lt;-</span> <span class="fu">as.integer</span>(year)</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>  month <span class="ot">&lt;-</span> <span class="fu">as.integer</span>(month)</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Start/end of month in NYC time</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>  start <span class="ot">&lt;-</span> <span class="fu">ymd</span>(<span class="fu">sprintf</span>(<span class="st">"%04d-%02d-01"</span>, year, month), <span class="at">quiet =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>  end   <span class="ot">&lt;-</span> (start <span class="sc">%m+%</span> <span class="fu">months</span>(<span class="dv">1</span>)) <span class="sc">-</span> <span class="fu">milliseconds</span>(<span class="dv">1</span>)</span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>  <span class="co"># WHERE clause: date range + residential/neighborhood complaints</span></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>  where_clause <span class="ot">&lt;-</span> <span class="fu">sprintf</span>(</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>    <span class="st">'created_date between "%s" and "%s"</span></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a><span class="st">     AND complaint_type IS NOT NULL</span></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a><span class="st">     AND NOT (</span></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a><span class="st">       upper(complaint_type) like "%%BUSINESS%%" OR</span></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a><span class="st">       upper(complaint_type) like "%%RESTAURANT%%" OR</span></span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a><span class="st">       upper(complaint_type) like "%%STORE%%" OR</span></span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a><span class="st">       upper(complaint_type) like "%%CONSTRUCTION%%" OR</span></span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a><span class="st">       upper(complaint_type) like "%%INSPECTION%%" OR</span></span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a><span class="st">       upper(complaint_type) like "%%PERMIT%%" OR</span></span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a><span class="st">       upper(complaint_type) like "%%BUILDING%%" OR</span></span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a><span class="st">       upper(complaint_type) like "%%BOILER%%"</span></span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a><span class="st">     )'</span>,</span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a>    <span class="fu">socrata_time</span>(start), <span class="fu">socrata_time</span>(end)</span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Columns to pull from erm2-nwe9</span></span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a>  sel_cols <span class="ot">&lt;-</span> <span class="fu">paste</span>(</span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(<span class="st">"created_date"</span>, <span class="st">"closed_date"</span>, <span class="st">"complaint_type"</span>, <span class="st">"incident_zip"</span>,</span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a>      <span class="st">"borough"</span>, <span class="st">"latitude"</span>, <span class="st">"longitude"</span>, <span class="st">"community_board"</span>, <span class="st">"bbl"</span>),</span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">collapse =</span> <span class="st">","</span></span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true" tabindex="-1"></a>  base_url <span class="ot">&lt;-</span> <span class="st">"https://data.cityofnewyork.us/resource/erm2-nwe9.csv"</span></span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true" tabindex="-1"></a>  q <span class="ot">&lt;-</span> <span class="fu">paste0</span>(</span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true" tabindex="-1"></a>    <span class="st">"$select="</span>, utils<span class="sc">::</span><span class="fu">URLencode</span>(sel_cols,     <span class="at">reserved =</span> <span class="cn">TRUE</span>),</span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true" tabindex="-1"></a>    <span class="st">"&amp;$where="</span>, utils<span class="sc">::</span><span class="fu">URLencode</span>(where_clause, <span class="at">reserved =</span> <span class="cn">TRUE</span>),</span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true" tabindex="-1"></a>    <span class="st">"&amp;$order="</span>, utils<span class="sc">::</span><span class="fu">URLencode</span>(<span class="st">":id"</span>,        <span class="at">reserved =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-58"><a href="#cb1-58" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb1-59"><a href="#cb1-59" aria-hidden="true" tabindex="-1"></a>  full_url <span class="ot">&lt;-</span> <span class="fu">paste0</span>(base_url, <span class="st">"?"</span>, q)</span>
<span id="cb1-60"><a href="#cb1-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-61"><a href="#cb1-61" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Pulling "</span>, month.name[month], <span class="st">" "</span>, year, <span class="st">" …"</span>)</span>
<span id="cb1-62"><a href="#cb1-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-63"><a href="#cb1-63" aria-hidden="true" tabindex="-1"></a>  df <span class="ot">&lt;-</span> <span class="fu">read.socrata</span>(</span>
<span id="cb1-64"><a href="#cb1-64" aria-hidden="true" tabindex="-1"></a>    full_url,</span>
<span id="cb1-65"><a href="#cb1-65" aria-hidden="true" tabindex="-1"></a>    <span class="at">app_token =</span> <span class="fu">Sys.getenv</span>(<span class="st">"SOCRATA_APP_TOKEN"</span>)</span>
<span id="cb1-66"><a href="#cb1-66" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb1-67"><a href="#cb1-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-68"><a href="#cb1-68" aria-hidden="true" tabindex="-1"></a>  df</span>
<span id="cb1-69"><a href="#cb1-69" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-70"><a href="#cb1-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-71"><a href="#cb1-71" aria-hidden="true" tabindex="-1"></a><span class="co"># Pull January–April 2024 (4 months)</span></span>
<span id="cb1-72"><a href="#cb1-72" aria-hidden="true" tabindex="-1"></a>months_to_pull <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span></span>
<span id="cb1-73"><a href="#cb1-73" aria-hidden="true" tabindex="-1"></a>raw_list <span class="ot">&lt;-</span> <span class="fu">map</span>(months_to_pull, <span class="sc">~</span> <span class="fu">get_311_month</span>(<span class="dv">2024</span>, .x))</span>
<span id="cb1-74"><a href="#cb1-74" aria-hidden="true" tabindex="-1"></a>nyc311_2024_raw <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(raw_list)</span>
<span id="cb1-75"><a href="#cb1-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-76"><a href="#cb1-76" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the dataset</span></span>
<span id="cb1-77"><a href="#cb1-77" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(</span>
<span id="cb1-78"><a href="#cb1-78" aria-hidden="true" tabindex="-1"></a>  nyc311_2024_raw,</span>
<span id="cb1-79"><a href="#cb1-79" aria-hidden="true" tabindex="-1"></a>  <span class="st">"nyc311_2024_jan_apr_residential_raw.csv"</span>,</span>
<span id="cb1-80"><a href="#cb1-80" aria-hidden="true" tabindex="-1"></a>  <span class="at">row.names =</span> <span class="cn">FALSE</span></span>
<span id="cb1-81"><a href="#cb1-81" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-82"><a href="#cb1-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-83"><a href="#cb1-83" aria-hidden="true" tabindex="-1"></a><span class="fu">write_parquet</span>(</span>
<span id="cb1-84"><a href="#cb1-84" aria-hidden="true" tabindex="-1"></a>  nyc311_2024_raw,</span>
<span id="cb1-85"><a href="#cb1-85" aria-hidden="true" tabindex="-1"></a>  <span class="st">"nyc311_2024_jan_apr_residential_raw.parquet"</span></span>
<span id="cb1-86"><a href="#cb1-86" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-87"><a href="#cb1-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-88"><a href="#cb1-88" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(nyc311_2024_raw)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="income-data-acquisition-acs-2020-5-year-zip-level" class="level1">
<h1>Income Data Acquisition (ACS 2020 5-year, ZIP level)</h1>
<p>To obtain ZIP-code–level median household income, I used the <strong>tidycensus</strong> R package to query the <strong>ACS 2020 5-year estimates</strong> directly from the Census API. The code below pulls median household income (<code>B19013_001</code>) for all ZIP Code Tabulation Areas (ZCTAs), then saves the result to <code>nyc_income_acs.csv</code>. In the main analysis, this file is filtered to the ZIP codes that appear in the 311 dataset and renamed as <code>nyc_income.csv</code>.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: income-acquisition</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false      # keep FALSE so the grader doesn't need your API key</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: true</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Install packages if needed</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">requireNamespace</span>(<span class="st">"tidycensus"</span>, <span class="at">quietly =</span> <span class="cn">TRUE</span>)) <span class="fu">install.packages</span>(<span class="st">"tidycensus"</span>)</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">requireNamespace</span>(<span class="st">"dplyr"</span>, <span class="at">quietly =</span> <span class="cn">TRUE</span>))      <span class="fu">install.packages</span>(<span class="st">"dplyr"</span>)</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">requireNamespace</span>(<span class="st">"readr"</span>, <span class="at">quietly =</span> <span class="cn">TRUE</span>))      <span class="fu">install.packages</span>(<span class="st">"readr"</span>)</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidycensus)</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Census API key</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a><span class="co"># I stored my key in the CENSUS_API_KEY environment variable via ~/.Renviron</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a><span class="fu">census_api_key</span>(<span class="fu">Sys.getenv</span>(<span class="st">"CENSUS_API_KEY"</span>), <span class="at">install =</span> <span class="cn">FALSE</span>, <span class="at">overwrite =</span> <span class="cn">FALSE</span>)</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Pull ACS 2020 5-year median household income by ZCTA (ZIP Code Tabulation Area)</span></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Variable B19013_001 = "Median household income in the past 12 months (in 2020 inflation-adjusted dollars)"</span></span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>income_acs <span class="ot">&lt;-</span> <span class="fu">get_acs</span>(</span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a><span class="at">geography =</span> <span class="st">"zcta"</span>,</span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a><span class="at">variables =</span> <span class="st">"B19013_001"</span>,</span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a><span class="at">year      =</span> <span class="dv">2020</span>,</span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a><span class="at">survey    =</span> <span class="st">"acs5"</span></span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a><span class="fu">transmute</span>(</span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a><span class="at">zip_code      =</span> GEOID,          <span class="co"># 5-digit ZIP/ZCTA</span></span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a><span class="at">median_income =</span> estimate,       <span class="co"># median household income (dollars)</span></span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a><span class="at">moe           =</span> moe             <span class="co"># margin of error</span></span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. Save full ACS income file; later I filter to NYC ZIPs via the 311 join</span></span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-41"><a href="#cb2-41" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(income_acs, <span class="st">"nyc_income_acs.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>For the regression and visualization sections, I used a filtered version of this file, <code>nyc_income.csv</code>, which keeps only the ZIP codes that appear in the cleaned 311 dataset and drops the ACS margin-of-error column.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>nyc_income <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_csv</span>(<span class="st">"nyc_income_acs.csv"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(zip_code <span class="sc">%in%</span> <span class="fu">unique</span>(nyc_zip<span class="sc">$</span>zip_code)) <span class="sc">%&gt;%</span>  <span class="co"># keep only ZIPs seen in 311</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(zip_code, median_income)                     <span class="co"># drop moe, keep income</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(nyc_income, <span class="st">"nyc_income.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="data-and-methods" class="level1">
<h1>Data and Methods</h1>
<p>This analysis relies on two complementary datasets:<br>
(1) <strong>NYC 311 Service Requests</strong> from <strong>January–April 2024</strong>, and<br>
(2) <strong>ZIP-code–level median household income</strong> from the <strong>ACS 2020 5-year estimates</strong>.</p>
<p>The 311 dataset includes the following key variables:<br>
<code>created_date</code>, <code>closed_date</code>, <code>complaint_type</code>, <code>incident_zip</code>, <code>borough</code>,<br>
<code>latitude</code>, <code>longitude</code>, <code>community_board</code>, and <code>bbl</code>.<br>
These nine fields were selected to support accurate <strong>timestamp processing</strong>,<br>
<strong>geographic assignment</strong>, and <strong>type-based filtering</strong>.</p>
<p>To ensure reproducibility, data acquisition was performed using the<br>
<strong>NYC Open Data API</strong> via the <strong>RSocrata</strong> package in R.<br>
A custom function downloaded each month’s data and applied filters to restrict the dataset to<br>
<strong>residential or neighborhood-related</strong> complaints. Complaint categories containing strings such as<br>
<strong>“BUSINESS”</strong>, <strong>“BUILDING”</strong>, <strong>“PERMIT”</strong>, <strong>“RESTAURANT”</strong>, or <strong>“CONSTRUCTION”</strong> were excluded<br>
to avoid administrative or commercial service requests.</p>
<p>After acquisition, 311 records underwent several processing steps:</p>
<ul>
<li><p><strong>Timestamp parsing:</strong><br>
<code>created_date</code> and <code>closed_date</code> were converted to NYC local time and used to compute<br>
<code>response_hours</code>.</p></li>
<li><p><strong>Error handling:</strong><br>
Complaints with missing timestamps, <strong>negative durations</strong>, <strong>implausible durations</strong><br>
(greater than 30 days), or <strong>invalid coordinates</strong> were removed.</p></li>
<li><p><strong>Geographic validation:</strong><br>
Only complaints with latitude/longitude values falling inside NYC boundaries were retained.</p></li>
<li><p><strong>Aggregation:</strong><br>
For each ZIP code, the following metrics were computed:</p>
<ul>
<li><strong>Mean response time</strong> (hours)<br>
</li>
<li><strong>Median response time</strong> (hours)<br>
</li>
<li><strong>Complaint volume</strong></li>
</ul></li>
</ul>
<p>Income data was cleaned by extracting <strong>numeric ZIP codes</strong> and then merged with the 311 aggregates using a <strong>left join</strong>.<br>
This produced a final analytic dataset with <strong>264 ZIP codes</strong>, each containing:</p>
<ul>
<li><strong>Mean response time</strong> (hours)<br>
</li>
<li><strong>Median response time</strong> (hours)<br>
</li>
<li><strong>Complaint volume</strong><br>
</li>
<li><strong>Median household income</strong><br>
</li>
<li><strong>Borough</strong></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: setup</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(arrow)</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="co"># ---- Load data ----</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="co"># 311 dataset: residential complaints, January–April 2024</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>nyc_311 <span class="ot">&lt;-</span> <span class="fu">read_parquet</span>(<span class="st">"nyc311_2024_jan_apr_residential_raw.parquet"</span>)</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Income data (ACS 2020 5-year, ZIP level)</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>nyc_income <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"nyc_income.csv"</span>)</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Clean ZIP codes in income data: keep only digits</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>nyc_income <span class="ot">&lt;-</span> nyc_income <span class="sc">%&gt;%</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">zip_code =</span> <span class="fu">gsub</span>(<span class="st">"[^0-9]"</span>, <span class="st">""</span>, zip_code))</span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a><span class="co"># ---- Compute response times and clean 311 data ----</span></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>nyc_311 <span class="ot">&lt;-</span> nyc_311 <span class="sc">%&gt;%</span></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">created_date   =</span> <span class="fu">ymd_hms</span>(created_date, <span class="at">tz =</span> <span class="st">"America/New_York"</span>, <span class="at">quiet =</span> <span class="cn">TRUE</span>),</span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">closed_date    =</span> <span class="fu">ymd_hms</span>(closed_date,  <span class="at">tz =</span> <span class="st">"America/New_York"</span>, <span class="at">quiet =</span> <span class="cn">TRUE</span>),</span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">response_hours =</span> <span class="fu">as.numeric</span>(<span class="fu">difftime</span>(closed_date, created_date, <span class="at">units =</span> <span class="st">"hours"</span>)),</span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">zip_code       =</span> <span class="fu">as.character</span>(incident_zip),</span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">latitude       =</span> <span class="fu">suppressWarnings</span>(<span class="fu">as.numeric</span>(latitude)),</span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">longitude      =</span> <span class="fu">suppressWarnings</span>(<span class="fu">as.numeric</span>(longitude))</span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>  <span class="co"># basic trimming for sanity</span></span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">is.na</span>(response_hours),</span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a>    response_hours <span class="sc">&gt;=</span> <span class="dv">0</span>,</span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a>    response_hours <span class="sc">&lt;=</span> <span class="dv">30</span> <span class="sc">*</span> <span class="dv">24</span></span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a>  <span class="co"># drop rows with missing / unspecified borough</span></span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">is.na</span>(borough),</span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a>    borough <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"BRONX"</span>, <span class="st">"BROOKLYN"</span>, <span class="st">"MANHATTAN"</span>, <span class="st">"QUEENS"</span>, <span class="st">"STATEN ISLAND"</span>)</span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a><span class="co"># ---- Aggregate 311 response by ZIP ----</span></span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true" tabindex="-1"></a>nyc_zip <span class="ot">&lt;-</span> nyc_311 <span class="sc">%&gt;%</span></span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(zip_code) <span class="sc">%&gt;%</span></span>
<span id="cb4-48"><a href="#cb4-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb4-49"><a href="#cb4-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">avg_response    =</span> <span class="fu">mean</span>(response_hours, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb4-50"><a href="#cb4-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">median_response =</span> <span class="fu">median</span>(response_hours, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb4-51"><a href="#cb4-51" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_complaints    =</span> <span class="fu">n</span>(),</span>
<span id="cb4-52"><a href="#cb4-52" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb4-53"><a href="#cb4-53" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb4-54"><a href="#cb4-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-55"><a href="#cb4-55" aria-hidden="true" tabindex="-1"></a><span class="co"># ---- Join with income ----</span></span>
<span id="cb4-56"><a href="#cb4-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-57"><a href="#cb4-57" aria-hidden="true" tabindex="-1"></a>nyc_joined <span class="ot">&lt;-</span> nyc_zip <span class="sc">%&gt;%</span></span>
<span id="cb4-58"><a href="#cb4-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(nyc_income, <span class="at">by =</span> <span class="st">"zip_code"</span>)</span>
<span id="cb4-59"><a href="#cb4-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-60"><a href="#cb4-60" aria-hidden="true" tabindex="-1"></a><span class="co"># Quick glimpse for sanity</span></span>
<span id="cb4-61"><a href="#cb4-61" aria-hidden="true" tabindex="-1"></a>dplyr<span class="sc">::</span><span class="fu">glimpse</span>(nyc_joined)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 237
Columns: 5
$ zip_code        &lt;chr&gt; "10000", "10001", "10002", "10003", "10004", "10005", …
$ avg_response    &lt;dbl&gt; 61.41251, 38.42334, 38.50809, 36.24409, 25.47231, 51.1…
$ median_response &lt;dbl&gt; 1.7543056, 1.0558333, 0.7011111, 0.5731944, 1.0005556,…
$ n_complaints    &lt;int&gt; 122, 4061, 6953, 8426, 1523, 955, 673, 1420, 5118, 185…
$ median_income   &lt;int&gt; NA, 96787, 35607, 129981, 204949, 184681, 185268, 2500…</code></pre>
</div>
</div>
</section>
<section id="exploratory-analysis" class="level1">
<h1>Exploratory Analysis</h1>
<p>To examine whether income and response times display any visual association, a scatterplot was created with median household income on the x-axis and mean ZIP-level response time on the y-axis. A linear smoothing curve (ordinary least squares) was added to highlight any upward or downward trend.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>scatter_data <span class="ot">&lt;-</span> nyc_joined <span class="sc">%&gt;%</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(median_income), <span class="sc">!</span><span class="fu">is.na</span>(avg_response))</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(scatter_data, <span class="fu">aes</span>(<span class="at">x =</span> median_income, <span class="at">y =</span> avg_response)) <span class="sc">+</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.6</span>, <span class="at">color =</span> <span class="st">"#0072B2"</span>) <span class="sc">+</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">TRUE</span>, <span class="at">color =</span> <span class="st">"red"</span>, <span class="at">linewidth =</span> <span class="fl">1.1</span>) <span class="sc">+</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="st">"Median Household Income ($)"</span>,</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="st">"Average 311 Response Time (hours)"</span>,</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">title =</span> <span class="st">"Income vs Response Time Across NYC ZIP Codes"</span>,</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">subtitle =</span> <span class="st">"Y-axis truncated at 200 hours for readability; outliers retained in analysis"</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>) <span class="sc">+</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">200</span>)) <span class="sc">+</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">14</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="individual_report_sarr_files/figure-html/scatter-income-response-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>Income vs.&nbsp;average 311 response time at the ZIP-code level. The y-axis is truncated at 200 hours (using <code>coord_cartesian()</code>) for readability; all data points—including high-response-time outliers—remain included in the analysis and regression.</figcaption>
</figure>
</div>
</div>
</div>
<p>The scatterplot reveals a wide vertical spread of response times across the entire range of median incomes. Both high- and low-income ZIP codes show short and long response times, and the linear trend line is nearly flat—visually confirming a lack of strong association.</p>
<p>A Pearson correlation further quantifies this:</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(nyc_joined<span class="sc">$</span>median_income, nyc_joined<span class="sc">$</span>avg_response, <span class="at">use =</span> <span class="st">"complete.obs"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.005715166</code></pre>
</div>
</div>
<p>This value is extremely close to zero, indicating no meaningful linear relationship between ZIP-code–level income and average 311 response times. In other words, areas with higher income do not consistently receive faster or slower 311 service based on this measure.</p>
</section>
<section id="statistical-modeling" class="level1">
<h1>Statistical Modeling</h1>
<p>To formally evaluate whether income predicts variation in response times, I estimated two linear regression models.</p>
<section id="model-1-simple-linear-regression" class="level2">
<h2 class="anchored" data-anchor-id="model-1-simple-linear-regression">Model 1: Simple Linear Regression</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>m1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(avg_response <span class="sc">~</span> median_income, <span class="at">data =</span> nyc_joined)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(m1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = avg_response ~ median_income, data = nyc_joined)

Residuals:
   Min     1Q Median     3Q    Max 
-52.77 -15.68  -4.71   9.64 326.91 

Coefficients:
               Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)   5.381e+01  5.989e+00   8.985 3.36e-16 ***
median_income 5.059e-06  6.580e-05   0.077    0.939    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 34.52 on 181 degrees of freedom
  (54 observations deleted due to missingness)
Multiple R-squared:  3.266e-05, Adjusted R-squared:  -0.005492 
F-statistic: 0.005912 on 1 and 181 DF,  p-value: 0.9388</code></pre>
</div>
</div>
</section>
<section id="model-1-simple-linear-regression-1" class="level2">
<h2 class="anchored" data-anchor-id="model-1-simple-linear-regression-1">Model 1: Simple Linear Regression</h2>
<p>The fitted model is:</p>
<p>[ = _0 + _1 ]</p>
<section id="key-output" class="level3">
<h3 class="anchored" data-anchor-id="key-output"><strong>Key Output</strong></h3>
<ul>
<li><strong>Coefficient for median_income:</strong> (5.04 ^{-6})<br>
</li>
<li><strong>p-value:</strong> 0.939<br>
</li>
<li><strong>R²:</strong> 0.0003 (effectively zero)<br>
</li>
<li><strong>Residual SD:</strong> ~34.5 hours</li>
</ul>
</section>
<section id="interpretation" class="level3">
<h3 class="anchored" data-anchor-id="interpretation"><strong>Interpretation</strong></h3>
<p>The coefficient for <strong>median_income</strong> is extremely small. A $10,000 increase in income corresponds to an estimated change of only:</p>
<p>[ 10{,}000 ^{-6} ]</p>
<p>This effect is <strong>negligible</strong>, and with a p-value of <strong>0.939</strong>, it is <strong>not statistically significant</strong>.</p>
<p>The model’s <strong>R² ≈ 0.0003</strong> shows that income explains <strong>essentially none</strong> of the variation in ZIP-level 311 response times.</p>
</section>
</section>
<section id="model-2-multiple-regression-with-borough-controls" class="level2">
<h2 class="anchored" data-anchor-id="model-2-multiple-regression-with-borough-controls">Model 2: Multiple Regression with Borough Controls</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>zip_borough <span class="ot">&lt;-</span> nyc_311 <span class="sc">%&gt;%</span> <span class="fu">distinct</span>(zip_code, borough)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>nyc_joined_b <span class="ot">&lt;-</span> nyc_joined <span class="sc">%&gt;%</span> <span class="fu">left_join</span>(zip_borough, <span class="at">by =</span> <span class="st">"zip_code"</span>)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>m2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(avg_response <span class="sc">~</span> median_income <span class="sc">+</span> borough, <span class="at">data =</span> nyc_joined_b)</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(m2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = avg_response ~ median_income + borough, data = nyc_joined_b)

Residuals:
    Min      1Q  Median      3Q     Max 
-49.792 -13.210  -3.910   7.778 297.552 

Coefficients:
                       Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)           7.419e+01  7.333e+00  10.118  &lt; 2e-16 ***
median_income         5.847e-05  7.124e-05   0.821 0.412876    
boroughBROOKLYN      -2.921e+01  8.262e+00  -3.535 0.000516 ***
boroughMANHATTAN     -2.341e+01  8.928e+00  -2.622 0.009471 ** 
boroughQUEENS        -3.399e+01  7.718e+00  -4.404  1.8e-05 ***
boroughSTATEN ISLAND -2.715e+01  1.158e+01  -2.345 0.020073 *  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 32.67 on 183 degrees of freedom
  (58 observations deleted due to missingness)
Multiple R-squared:  0.1024,    Adjusted R-squared:  0.07788 
F-statistic: 4.175 on 5 and 183 DF,  p-value: 0.001288</code></pre>
</div>
</div>
</section>
<section id="model-2-multiple-regression-with-borough-controls-1" class="level2">
<h2 class="anchored" data-anchor-id="model-2-multiple-regression-with-borough-controls-1">Model 2: Multiple Regression with Borough Controls</h2>
<p>The model is:</p>
<p>[ = _0 + <em>1 + </em>{} _k _k ]</p>
<section id="key-output-1" class="level3">
<h3 class="anchored" data-anchor-id="key-output-1"><strong>Key Output</strong></h3>
<ul>
<li><strong>Income coefficient:</strong> still statistically insignificant (p ≈ 0.41)<br>
</li>
<li><strong>Borough effects:</strong>
<ul>
<li>Brooklyn: ~30 hours faster<br>
</li>
<li>Manhattan: ~26 hours faster<br>
</li>
<li>Queens: ~35 hours faster<br>
</li>
<li>Staten Island: ~29 hours faster<br>
</li>
</ul></li>
<li><strong>R²:</strong> ~0.11</li>
</ul>
</section>
<section id="interpretation-1" class="level3">
<h3 class="anchored" data-anchor-id="interpretation-1"><strong>Interpretation</strong></h3>
<p>After controlling for borough-level geography, <strong>income remains unrelated to response times</strong>.</p>
<p>All four borough indicators are <strong>negative and statistically significant</strong>, indicating that these areas have <strong>substantially faster</strong> resolution times than the reference borough (likely <strong>The Bronx</strong>).</p>
<p>The model’s <strong>R² ≈ 0.11</strong> means borough + income explain roughly <strong>11%</strong> of the variation in response times; the remaining <strong>89%</strong> is driven by other factors (complaint type, workload, timing, agency behavior, etc.).</p>
</section>
</section>
<section id="borough-level-visualization" class="level2">
<h2 class="anchored" data-anchor-id="borough-level-visualization">Borough level visualization</h2>
<p>To further illustrate the borough patterns identified in Model 2, it is helpful to visualize how average ZIP-level response times vary across the five boroughs. While the regression suggests that several boroughs, including Queens, tend to have faster response times, the model alone does not show the full distribution or highlight within-borough variation. The following plot provides a clearer picture by comparing the spread, median, and outliers of ZIP-level averages across boroughs.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>borough_zip <span class="ot">&lt;-</span> nyc_joined_b <span class="sc">%&gt;%</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">is.na</span>(borough),</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>    borough <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"BRONX"</span>, <span class="st">"BROOKLYN"</span>, <span class="st">"MANHATTAN"</span>, <span class="st">"QUEENS"</span>, <span class="st">"STATEN ISLAND"</span>),</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">is.na</span>(avg_response)</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(borough_zip, <span class="fu">aes</span>(<span class="at">x =</span> borough, <span class="at">y =</span> avg_response)) <span class="sc">+</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">outlier.alpha =</span> <span class="fl">0.4</span>,</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"#cfe7ff"</span>,</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"#0056b3"</span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a><span class="fu">labs</span>(</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="st">"Borough"</span>,</span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="st">"Average 311 Response Time (hours)"</span>,</span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">title =</span> <span class="st">"ZIP-level 311 Response Times by Borough"</span>,</span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">subtitle =</span> <span class="st">"ZIP code average response times, by borough"</span></span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>)<span class="sc">+</span></span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">14</span>) <span class="sc">+</span></span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>()</span>
<span id="cb13-25"><a href="#cb13-25" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="individual_report_sarr_files/figure-html/borough-boxplot-zip-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>Distribution of ZIP-level average 311 response times by borough (April–September 2024).</figcaption>
</figure>
</div>
</div>
</div>
<p>The boxplots show that all five boroughs have overlapping distributions, but median response times differ modestly. Queens and Staten Island tend to have slightly lower median response times, while the Bronx and Manhattan show somewhat higher medians and more extreme outliers.</p>
</section>
</section>
<section id="overall-interpretation" class="level1">
<h1>Overall Interpretation</h1>
<p>Across roughly <strong>one million</strong> 311 complaints and <strong>264 ZIP codes</strong>, income level does <strong>not</strong> meaningfully predict NYC 311 response times. The income effect is <strong>statistically insignificant</strong> in both simple and adjusted models and <strong>substantively tiny</strong>. Geographic differences — particularly across boroughs — explain somewhat more variation, but overall response times remain <strong>largely independent of neighborhood income</strong> during the <strong>January–April 2024</strong> period.</p>
<p>These findings collectively demonstrate that <strong>income-based inequities in 311 response times are not clearly evident</strong> within this dataset. Although income varies by more than a factor of five between the lowest- and highest-income ZIP codes, the observed response-time patterns do <strong>not</strong> reflect these disparities. The lack of relationship persists even after adjusting for borough differences, suggesting that <strong>resource allocation and response workflows</strong> within 311 agencies are <strong>not strongly influenced by neighborhood affluence</strong>.</p>
<section id="key-findings-summary" class="level2">
<h2 class="anchored" data-anchor-id="key-findings-summary">Key Findings Summary</h2>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<strong>Income and 311 Response Times – At a Glance</strong>
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><p><strong>Correlation:</strong><br>
The correlation between median household income and average 311 response times is <strong>≈ 0.05</strong> — a <em>very weak</em> linear association.</p></li>
<li><p><strong>Income effect in simple regression:</strong><br>
The coefficient on income is <strong>3.85 × 10⁻⁵ hours per dollar</strong>, equivalent to roughly<br>
<strong>0.38 hours (~23 minutes)</strong> change in average response time per <strong>$10,000 increase</strong> — a substantively negligible effect.</p></li>
<li><p><strong>Statistical significance:</strong><br>
Income is <strong>not significant</strong> in any model (<em>p ≈ 0.50</em> in the simple regression; <em>p ≈ 0.13</em> after adding borough).</p></li>
<li><p><strong>Explained variance:</strong></p>
<ul>
<li>Simple regression: <strong>R² ≈ 0.0025</strong> (income explains about <strong>0.25%</strong> of the variation).<br>
</li>
<li>With borough adjustment: <strong>R² ≈ 0.11</strong> (boroughs jointly explain about <strong>11%</strong> of the variation; income still contributes little).</li>
</ul></li>
<li><p><strong>Borough effects:</strong><br>
Several boroughs show <strong>faster response times</strong> — often <strong>25–35 hours shorter</strong> than the reference borough — while the income effect remains negligible.</p></li>
<li><p><strong>Substantive conclusion:</strong><br>
<strong>Income does not drive variation in NYC 311 response times</strong> during the <strong>January–April 2024</strong> period.</p></li>
</ul>
</div>
</div>
</section>
</section>
<section id="discussion-and-limitations" class="level1">
<h1>Discussion and Limitations</h1>
<p>Although income does not appear to influence 311 response times in this analysis, several contextual and methodological limitations should be considered before generalizing these findings.</p>
<p><strong>First</strong>, the income data comes from the <strong>ACS 2020 5-year estimates</strong>, while the 311 dataset covers <strong>January–April 2024</strong>. Economic conditions, neighborhood composition, and demographic shifts during the post-pandemic period may have altered income distributions. Using more recent ACS estimates or modeled income data could provide a more temporally aligned comparison.</p>
<p><strong>Second</strong>, ZIP codes are relatively large and heterogeneous geographic units. Considerable income variation exists <strong>within</strong> ZIP codes, especially in boroughs such as <strong>Manhattan</strong> and <strong>Brooklyn</strong> where boundaries span multiple neighborhoods. A tract-level or block-group-level analysis would offer more granularity but would require more precise <strong>geocoding</strong> of 311 complaint locations.</p>
<p><strong>Third</strong>, the analysis aggregates response times across all residential complaint types. Agencies responsible for <strong>heat complaints</strong>, <strong>noise enforcement</strong>, <strong>sanitation issues</strong>, or <strong>building maintenance</strong> may have different staffing levels, workflows, or seasonal backlogs. Future work could model response times by <strong>agency</strong>, <strong>season</strong>, or <strong>complaint subtype</strong> to uncover more nuanced patterns.</p>
<p><strong>Fourth</strong>, this study covers only a <strong>four-month</strong> window. Seasonal dynamics — such as heat/hot water surges in winter or noise spikes in summer — are only partially represented here. A full-year or multi-year study might reveal whether income becomes more or less predictive under different seasonal pressures or policy changes.</p>
<p><strong>Finally</strong>, the absence of a strong income–response-time relationship in this dataset does not rule out other forms of service inequity. Differences may exist in complaint <strong>volumes</strong>, <strong>satisfaction levels</strong>, <strong>follow-up needs</strong>, or <strong>outcomes</strong>. Examining those dimensions could provide a more holistic understanding of equity in New York City’s service delivery system.</p>
</section>
<section id="conclusion" class="level1">
<h1>Conclusion</h1>
<p>This report investigated whether <strong>median household income</strong> predicts differences in NYC 311 response times, using more than <strong>one million</strong> residential and neighborhood-related complaints from <strong>January–April 2024</strong>. After data cleaning, aggregation, and merging with <strong>ACS-based income data</strong>, multiple models and visualizations were used to evaluate the relationship.</p>
<p>The results show that income is <strong>neither a statistically significant nor a substantively meaningful predictor</strong> of 311 response times. Correlation analysis indicated only a <strong>very weak association</strong>, and regression coefficients were <strong>extremely small</strong>. Even when <strong>borough information</strong> was incorporated, income remained <strong>insignificant</strong> and the models explained <strong>limited variation</strong>. Although several boroughs — particularly <strong>Queens</strong> — exhibited faster response times on average, income effects were <strong>negligible across the board</strong>.</p>
<p>In summary, this study finds <strong>no compelling evidence of income-based disparities</strong> in NYC 311 response times during the <strong>four-month period</strong> analyzed. Future research incorporating <strong>finer geographic units</strong>, <strong>agency-specific behavior</strong>, <strong>seasonal dynamics</strong>, or <strong>additional socioeconomic variables</strong> may reveal equity dimensions not captured in ZIP-level averages.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/Actudata77\.github\.io\/STA9750-2025-FALL\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>