/* Stop Bootswatch from uppercasing DT headers */
table.dataTable thead th {
  text-transform: none !important;
}

/* Slightly narrow main text column */
main.content {
  max-width: 900px;
  margin: 0 auto;
}

/* Extra breathing room above major headings */
h1, h2 {
  margin-top: 2.2rem;
}

/* A little space before callouts */
.callout {
  margin-top: 1rem;
  margin-bottom: 1.5rem;
}

/* Sidebar TOC: reserve space + avoid overlap (desktop only) */
@media (min-width: 992px) {
  .page-columns {
    grid-template-columns: minmax(0, 1fr) 300px;
    column-gap: 2rem;
  }

  .sidebar {
    width: 300px;
  }

  .sidebar nav#TOC,
  #TOC {
    width: 300px;
    margin-top: 4rem;
  }
}


/* Force Quarto sidebar TOC to take its own column (no overlap) */
@media (min-width: 992px) {

  /* Make sure the page uses a 2-column grid: content + sidebar */
  .page-columns {
    display: grid !important;
    grid-template-columns: minmax(0, 1fr) 320px !important;
    column-gap: 2rem !important;
  }

  /* Force sidebar into the 2nd column and keep it from floating over content */
  .page-columns > .content {
    grid-column: 1 !important;
  }
  .page-columns > .sidebar {
    grid-column: 2 !important;
    position: sticky !important;   /* key line: sticky instead of overlay */
    top: 5rem !important;
    align-self: start !important;
    height: calc(100vh - 5rem) !important;
    overflow-y: auto !important;
  }

  /* Keep TOC sized inside the sidebar */
  .page-columns > .sidebar nav#TOC,
  .page-columns > .sidebar #TOC {
    width: 320px !important;
    margin-top: 0 !important;
  }
}

